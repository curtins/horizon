{"status":{"code":200,"http":"Fetched (ping) 200 2684 and parsed 1/9 entries","nextFetch":1505918,"entriesCountSinceLastMaintenance":1,"velocity":0.6,"popularity":4.0230314941774505,"generatedIds":true,"period":2684,"lastFetch":1505916,"lastParse":1505916,"lastMaintenanceAt":1505843,"feed":"http://feeds.feedburner.com/symfony/blog"},"permalinkUrl":"http://symfony.com/blog/","standardLinks":{"alternate":[{"title":"Symfony Blog","rel":"alternate","href":"http://symfony.com/blog/","type":"text/html"}],"self":[{"title":"Symfony Blog","rel":"self","href":"http://feeds.feedburner.com/symfony/blog","type":"application/rss+xml"}],"hub":[{"title":"","rel":"hub","href":"http://pubsubhubbub.appspot.com/","type":"text/html"}]},"title":"Symfony Blog","updated":1505916120,"id":"symfony-blog-2017-9-20-14","items":[{"id":"http://symfony.com/blog/new-in-symfony-3-4-subscribing-to-events-in-the-micro-kernel","published":1505916120,"updated":1505916120,"title":"New in Symfony 3.4: Subscribing to events in the micro kernel","summary":"<div style=\"border-radius: 4px; float: right; margin-left: 15px; margin-bottom: 15px; width: 200px; background-color: #fff7c4; padding: 7px\">\n    <div style=\"float: left; padding-top: 3px; width: 50px;\">\n        <a href=\"https://connect.sensiolabs.com/profile/ogizanagi\">\n            <img style=\"border-radius: 40px;\" height=\"40\" width=\"40\" src=\"https://secure.gravatar.com/avatar/56bde00ad6daa491aa7d4c861f0db9c3\" alt=\"Maxime Steinhausser\">\n        </a>\n    </div>\n    <div style=\"float: left;\">\n        <p style=\"font-size: 80%; margin-bottom: 0; padding-bottom: 0\">\n            Contributed by <br>\n            <a href=\"https://connect.sensiolabs.com/profile/ogizanagi\">Maxime Steinhausser</a> <br>\n            in <a href=\"https://github.com/symfony/symfony/pull/23812\">#23812</a>.\n        </p>\n    </div>\n    <div class=\"clear_fix\"></div>\n</div><p>In Symfony 2.8, <a class=\"reference external\" href=\"https://symfony.com/blog/new-in-symfony-2-8-symfony-as-a-microframework\">we introduced the MicroKernel trait</a> to provide a different\nand simpler way to configure the Symfony full-stack framework. Symfony 4, to be\nreleased in November 2017, will use this trait by default when creating new\napplications.</p>\n<p>Meanwhile, in Symfony 3.4 we improved the micro kernel to <strong>allow subscribing to\nevents</strong>. You just need to implement the usual <code class=\"notranslate\">EventSubscriberInterface</code> and\nadd the methods handling the different events.</p>\n<p>Consider a simple application that wants to handle the exceptions occurred during\nits execution. In Symfony 3.4 you can make the micro kernel listen to the\n<code class=\"notranslate\">KernelEvents::EXCEPTION</code> event and implement the exception handling logic in\na method of the kernel:</p>\n<div class=\"literal-block notranslate\"><div class=\"highlight-php\"><table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span class=\"c1\">// src/Kernel.php</span>\n<span class=\"k\">namespace</span> <span class=\"nx\">App</span><span class=\"p\">;</span>\n\n<span class=\"k\">use</span> <span class=\"nx\">App\\Exception\\DangerException</span><span class=\"p\">;</span>\n<span class=\"k\">use</span> <span class=\"nx\">Symfony\\Bundle\\FrameworkBundle\\Kernel\\MicroKernelTrait</span><span class=\"p\">;</span>\n<span class=\"k\">use</span> <span class=\"nx\">Symfony\\Component\\EventDispatcher\\EventSubscriberInterface</span><span class=\"p\">;</span>\n<span class=\"k\">use</span> <span class=\"nx\">Symfony\\Component\\HttpKernel\\Event\\GetResponseForExceptionEvent</span><span class=\"p\">;</span>\n<span class=\"k\">use</span> <span class=\"nx\">Symfony\\Component\\HttpKernel\\Kernel</span> <span class=\"k\">as</span> <span class=\"nx\">BaseKernel</span><span class=\"p\">;</span>\n<span class=\"k\">use</span> <span class=\"nx\">Symfony\\Component\\HttpKernel\\KernelEvents</span><span class=\"p\">;</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">Kernel</span> <span class=\"k\">extends</span> <span class=\"nx\">BaseKernel</span> <span class=\"k\">implements</span> <span class=\"nx\">EventSubscriberInterface</span>\n<span class=\"p\">{</span>\n    <span class=\"k\">use</span> <span class=\"nx\">MicroKernelTrait</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// ...</span>\n\n    <span class=\"k\">public</span> <span class=\"k\">static</span> <span class=\"k\">function</span> <span class=\"nf\">getSubscribedEvents</span><span class=\"p\">()</span>\n    <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"p\">[</span><span class=\"nx\">KernelEvents</span><span class=\"o\">::</span><span class=\"na\">EXCEPTION</span> <span class=\"o\">=&gt;</span> <span class=\"s1\">&#39;handleExceptions&#39;</span><span class=\"p\">];</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">public</span> <span class=\"k\">function</span> <span class=\"nf\">handleExceptions</span><span class=\"p\">(</span><span class=\"nx\">GetResponseForExceptionEvent</span> <span class=\"nv\">$event</span><span class=\"p\">)</span>\n    <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nv\">$event</span><span class=\"o\">-&gt;</span><span class=\"na\">getException</span><span class=\"p\">()</span> <span class=\"nx\">instanceof</span> <span class=\"nx\">DangerException</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n            <span class=\"nv\">$event</span><span class=\"o\">-&gt;</span><span class=\"na\">setResponse</span><span class=\"p\">(</span><span class=\"nx\">Response</span><span class=\"o\">::</span><span class=\"na\">create</span><span class=\"p\">(</span><span class=\"s1\">&#39;It\\&#39;s dangerous to go alone. Take this âš”&#39;</span><span class=\"p\">));</span>\n        <span class=\"p\">}</span>\n\n        <span class=\"c1\">// ...</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</td></tr></table></div></div>\n\n                <hr style=\"margin-bottom: 5px\" />\n                <div style=\"font-size: 90%\">\n                Be trained by <a href=\"https://training.sensiolabs.com/en/courses?q=symfony\">Symfony experts</a>\n                                - <a href=\"http://training.sensiolabs.com/en/courses?q=SF3C1&amp;from=09/25/2017&amp;to=09/26/2017\">2017-09-25</a> Cologne\n                                - <a href=\"http://training.sensiolabs.com/en/courses?q=SF3C4&amp;from=09/25/2017&amp;to=09/28/2017\">2017-09-25</a> Paris\n                                - <a href=\"http://training.sensiolabs.com/en/courses?q=SF3C1&amp;from=09/25/2017&amp;to=09/26/2017\">2017-09-25</a> Paris\n                                </div><img src=\"http://feeds.feedburner.com/~r/symfony/blog/~4/7nNSEmUYqU4\" height=\"1\" width=\"1\" alt=\"\"/>","permalinkUrl":"http://feedproxy.google.com/~r/symfony/blog/~3/7nNSEmUYqU4/new-in-symfony-3-4-subscribing-to-events-in-the-micro-kernel","standardLinks":{"alternate":[{"title":"New in Symfony 3.4: Subscribing to events in the micro kernel","rel":"alternate","href":"http://feedproxy.google.com/~r/symfony/blog/~3/7nNSEmUYqU4/new-in-symfony-3-4-subscribing-to-events-in-the-micro-kernel","type":"text/html"}],"replies":[{"title":"New in Symfony 3.4: Subscribing to events in the micro kernel","rel":"replies","href":"http://symfony.com/blog/new-in-symfony-3-4-subscribing-to-events-in-the-micro-kernel#comments-list","type":"text/html"}],"canonical":[{"title":"New in Symfony 3.4: Subscribing to events in the micro kernel","rel":"canonical","href":"http://symfony.com/blog/new-in-symfony-3-4-subscribing-to-events-in-the-micro-kernel","type":"text/html"}]},"actor":{"displayName":"Javier Eguiluz","id":"Javier Eguiluz"},"language":"en"}]}